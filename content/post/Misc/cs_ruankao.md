---
title: "软考复习笔记"
date: 2023-10-09T10:13:40+08:00
categories:
- 计算机科学与技术
- 考试
tags:
- 考试
- 杂项
thumbnailImagePosition: left
thumbnailImage: /images/thumbnail/misc.jpg
math: true
---
本文是各类软考复习资源的学习笔记
<!--more-->
## 计算机组成原理
- 组成部件
    - 主存储器，内存
    - 辅助存储器，外存
    - 总线：地址总线、数据总线
    - CPU
        - 运算器：算术逻辑单元ALU、累加寄存器AC、通用寄存器GR、数据缓冲寄存器DR（写内存时暂存指令和数据）、状态条件寄存器PSW（条件状态字，也可以归类为控制器部件）
        - 控制器：程序计数器PC（下一条指令的地址）、指令寄存器IR（即将执行的指令）、指令译码器ID（对操作码字段进行分析解释）、时序部件
- 结构
    - 冯诺依曼结构（普林斯顿结构）：一套数据、地址总线，用于通用PC处理器
    - 哈佛结构：两套数据、地址总线，指令和数据吞吐率能更高，用于嵌入式等专用领域
- 嵌入式
    - DSP：只负责特定需求的数字信号**处理器**，实时快速
    - SoC：片上系统，微小型系统，可以包含必要的软件内容，是能够完成某个功能的**完整系统**
    - MPU：微**处理器**，控制微型计算机工作，是缩减版的CPU
    - MCU：为控制单元，单片微型计算机，将内存、计数器、USB、AD转换等各类设备都集成到一个芯片上，形成**芯片级的计算机**
- 分级存储结构：解决存储容量、价格和速度之间的矛盾
    - CPU寄存器
    - 高速缓存Cache：相联存储器。利用时间局部性（循环执行）、空间局部性（顺序执行）原理加速对主存访问，对程序员透明，由硬件完成。
        - 平均访问时间：cache命中率$h$，cache的访问周期时间$t_1$，主存的访问周期时间$t_2$，则整体平均访问周期时间$t_3=h \times t_1 + (1-h) \times t_2$
    - 内存（主存）：DRAM
    - 外村（辅存）
- 主存编址计算
    - 存储单元：若干个一次性放置的bit位，是最小的地址单元
    - 编址内容：按字编址，或者按字节编址，分别代表存储单元是字、或者是字节
    - 总容量：存储单元个数$\times$编址内容
- 磁盘管理
    - 扇区（最小的读取单位）、磁道（一圈扇区）、柱面（柱面数和一个盘面上的磁道数是相等的）、盘面（盘面数和磁头数相等）
    - 存取时间（访问时间）：寻道时间（磁头移动到磁道） + 等待时间（也称旋转延迟时间，等待指定扇区转到磁头下方）。存取时间只考虑磁头找到指定数据的平均时间。
    - 磁盘优化分布
        - 缓冲区：磁盘读取后，需要等待系统对数据缓冲区进行处理（从缓冲区送到用户进程），连续读取时可能会影响后续读取。
            - 单缓冲区时必须等待系统处理结束。注意当数据到达用户区之后，磁盘就可以继续向缓冲区中写入数据了。
            - 双缓冲区，在前一个缓冲区未处理结束下，可以读入数据到另一个缓冲区。但是如果另一个缓冲区也满了，则也需要等待。
            > 时间计算方法：构建流水线的时间 + 流水线时间 * 周期。可以画图帮助理解
    - 磁盘移臂调度算法：先来先服务（FCFS）、最短寻道优先（SSTF）、扫描算法（SCAN，也称电梯算法）、循环扫描（CSCAN，单向扫描，结束后立刻回到原点）
- 数据传输
    - 传输控制方式：
        - 程序控制（查询）方式：简单，硬件需求低，I/O能力不高，影响CPU利用率。
        - 程序中断方式：CPU无需等待，响应快速。发生中断时，为CPU断点信息保存现场（保存到栈空间），查询中断向量表，执行I/O中断服务程序。**鼠标键盘**。
        - DMA：直接内存存取，硬件实现主存与外设通信，无需CPU介入。DMAC向总线裁决逻辑提出总线请求，等CPU释放总线控制权后，DMA就可以开始工作。**硬盘**。
        - 通道方式、I/O处理机：硬件实现，效率更高。
    - 总线：一组能为多个部件**分时共享**的公共信息传送线路。同一时间只能有一个部件发送信息到总线，但允许多个部件同时接收。
        - 串行适合长距离、并行适合短距离
        - 数据总线DB、地址总线AB、控制总线CB
- CPU架构
    - CISC（复杂）：指令数量多，使用频率差别大，可变长格式，寻址方式多样，微码，研制周期长
    - RISC（精简）：指令数量少，使用频率接近，定长格式，大部分是单周期指令，寻址一般只提供Load/Store，增加了通用寄存器（降低访存次数），硬布线逻辑控制为主（为了尽量提高译码速度），适合流水线
    - 流水线：多条指令重叠操作的一种准并行技术。不同部件同时为多条指令的不同流程部分进行工作。
        - 流程：取指令、分析指令、执行指令
        - 流水线周期$t$是各部件执行时间最长的一段
        - 流水线计算公式：一条指令的执行时间 + 剩余指令 * 流水线周期。即理论$t_1+t_2+...+t_k+(n-1) \times t$、或者$k \times t + (n-1) \times t$
        - 流水线吞吐率（Though Put rate，TP）：单位时间内流水线完成的任务数量。$TP = \frac{指令条数}{流水线执行时间}$
        - 流水线最大吞吐率：$TP_{max} = \lim\limits_{n\to \infty} \frac{n}{(k + n-1)t } = \frac{1}{t}$
        - 流水线加速比：$S = \frac{不用流水线的执行时间}{使用流水线的执行时间}$
- 校验码
    - 奇偶校验码：若干位有效信息 + 一bit校验位，组成校验码。只能检错（仅错1位），不能纠错。
        - 奇校验：整个校验码（包括有效信息和校验位）中‘1’的个数为奇数。
        - 偶校验：整个校验码‘1’的个数为偶数
    - CRC校验：校验位的位数由生成多项式的最高次幂决定。可检错，不能纠错。
        - 模2除法：在除法过程中不计算借位和进位（相当于异或）
        - 生成多项式：用来表示二进制系数，如$G(x)=x^4+x+1$，则代表二进制系数$10011_2$，校验位为4位（因为最高幂$x^4$）
        - 编码：用原始报文左移校验位长度，再模2除生成多项式的二进制系数，并将计算的余数拼接到原始报文后。
        - 解码：用校验码模2除生成多项式的二进制系数，没有余数则没问题，否则有错误。
        > 信息码$111000110_2$，生成多项式$G(x)=x^5+x^3+x+1$，系数为$101011_2$。校验位数为5。则用$11100011000000_2 \div 101011_2$。余数为$11001_2$
    - 海明校验：校验位的位数满足$2^r\ge m + r +1$，其中$m$是信息位的位数，$r$是校验位的数量，校验码插入到信息位的各$2^k$位置。是分组奇偶校验，**能检错能纠错**。

## 操作系统
- 概述：
    - 三大作用：管理程序分配软硬资源、提供友善的人机接口、为程序开发运行提供高效平台
    - 特征：并发性、共享性、虚拟性、不确定性
    - 分类：批处理（单道、多道）、分时、实时（对交互性要求不高，要求可靠响应）、网络、分布式、微型计算机系统（Linux、Windows）
- 进程管理
    - 进程：程序在一个数据集合上运行的过程，是系统进行资源分配和调度的一个独立单位。由程序块、进程控制块（PCB）、数据块三部分组成。
        - PCB：进程存在的唯一标志。包含进程标识符、状态、控制信息、优先级、现场保护区等。
        - 线程：可调度的基本单位，但不是分配资源的基本单位。拥有独立的程序计数器、寄存器、栈。和同进程其他线程共享内存地址空间、代码、数据、文件资源等。
    - 进程状态：
        - **三态模型**：运行、就绪、阻塞。
        - 五态模型：运行、活跃就绪、活跃阻塞（活跃阻塞可以挂起到静止阻塞，或者进入活跃就绪）、静止就绪、静止阻塞（静止阻塞需要先恢复到静止就绪，才能进一步恢复到活跃就绪）
        > 只有就绪状态，才能被调度到运行状态
    - 同步和互斥
        - 临界资源：进程间需要互斥访问的共享资源。如缓冲区、打印机。
        - 临界区：访问临界资源的代码
        - 信号量：一种特殊的变量
            - PV操作：P(S)，将S-1，如果S<0，放入阻塞队列。V(S)，将S+1，如果S<=0，从阻塞队列唤醒一个。**PV操作必须成对出现**
        - 生产者消费者模型：用PV操作时，需要用三个信号量表示，分别代表生产队列是否空闲和是否有资源，以及缓冲区繁忙的标志。
        - 前驱图：描述进程之间的依赖关系。几个箭头就需要几个信号量。
            - PV操作：一般需要先用V操作，表示前驱进程产生了某个资源。后续依赖进程，才可以通过P操作获取资源并使用
            - 直接制约：必须前后顺序执行的
            - 间接制约：依赖同一种资源，需要互斥等待的
        - 进程资源图：表示进程和资源之间的分配、请求关系。资源$\to$进程代表分配，进程$\to$资源代表请求。
            - 当进程资源图中所有的进程都是阻塞节点，即产生死锁
        - 死锁：互斥、请求和保持、不剥夺、循环等待。
        - 策略：死锁预防、死锁避免、死锁检测（银行家算法）、死锁解除
        - 死锁资源计算：系统内有n个进程，每个进程需要R个资源，那么仍会发生死锁的最大资源数是$n\times(R-1)$，一定不会发生死锁的最小资源是$n\times(R-1)+1$
    - 进程调度
        - 调度方式：当有更高优先级的进程到来时如何分配CPU。分为可剥夺和不可剥夺两种
        - 高级中级低级调度，分别代表具备进入主系统、进入内存、占用CPU
        - 调度算法：先来先服务、时间片轮转、优先级调度、多级反馈（时间片轮转和优先级结合）
- 文件管理
- 存储管理
- 设备管理
- 作业管理
- 微内核操作系统
- 嵌入式操作系统：微型化、可定制、实时性、可靠性、易移植性。

## 参考
- [（旧）软考-系统架构设计师-上](https://www.bilibili.com/video/BV1du41187Sk)
- [（旧）软考-系统架构设计师-下](https://www.bilibili.com/video/BV1WM4y1J7uz)
- [【新版】软考 - 系统架构设计师（总结笔记） -  CSDN App](http://t.csdn.cn/0mQ4K)
- [CTO说：系统架构设计师备考资料库 Github](https://github.com/xiaomabenten/system_architect)