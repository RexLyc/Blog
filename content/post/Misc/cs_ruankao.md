---
title: "软考复习笔记"
date: 2023-10-09T10:13:40+08:00
categories:
- 计算机科学与技术
- 考试
tags:
- 考试
- 杂项
thumbnailImagePosition: left
thumbnailImage: /images/thumbnail/misc.jpg
math: true
---
本文是各类软考复习资源的学习笔记
<!--more-->
## 计算机组成原理
- 组成部件
    - 主存储器，内存
    - 辅助存储器，外存
    - 总线：地址总线、数据总线
    - CPU
        - 运算器：算术逻辑单元ALU、累加寄存器AC、通用寄存器GR、数据缓冲寄存器DR（写内存时暂存指令和数据）、状态条件寄存器PSW（条件状态字，也可以归类为控制器部件）
        - 控制器：程序计数器PC（下一条指令的地址）、指令寄存器IR（即将执行的指令）、指令译码器ID（对操作码字段进行分析解释）、时序部件
- 结构
    - 冯诺依曼结构（普林斯顿结构）：一套数据、地址总线，用于通用PC处理器
    - 哈佛结构：两套数据、地址总线，指令和数据吞吐率能更高，用于嵌入式等专用领域
- 嵌入式
    - DSP：只负责特定需求的数字信号**处理器**，实时快速
    - SoC：片上系统，微小型系统，可以包含必要的软件内容，是能够完成某个功能的**完整系统**
    - MPU：微**处理器**，控制微型计算机工作，是缩减版的CPU
    - MCU：为控制单元，单片微型计算机，将内存、计数器、USB、AD转换等各类设备都集成到一个芯片上，形成**芯片级的计算机**
- 分级存储结构：解决存储容量、价格和速度之间的矛盾
    - CPU寄存器
    - 高速缓存Cache：相联存储器。利用时间局部性（循环执行）、空间局部性（顺序执行）原理加速对主存访问，对程序员透明，由硬件完成。
        - 平均访问时间：cache命中率$h$，cache的访问周期时间$t_1$，主存的访问周期时间$t_2$，则整体平均访问周期时间$t_3=h \times t_1 + (1-h) \times t_2$
    - 内存（主存）：DRAM
    - 外村（辅存）
- 主存编址计算
    - 存储单元：若干个一次性放置的bit位，是最小的地址单元
    - 编址内容：按字编址，或者按字节编址，分别代表存储单元是字、或者是字节
    - 总容量：存储单元个数$\times$编址内容
- 磁盘管理
    - 扇区（最小的读取单位）、磁道（一圈扇区）、柱面（柱面数和一个盘面上的磁道数是相等的）、盘面（盘面数和磁头数相等）
    - 存取时间（访问时间）：寻道时间（磁头移动到磁道） + 等待时间（也称旋转延迟时间，等待指定扇区转到磁头下方）。存取时间只考虑磁头找到指定数据的平均时间。
    - 磁盘优化分布
        - 缓冲区：磁盘读取后，需要等待系统对数据缓冲区进行处理（从缓冲区送到用户进程），连续读取时可能会影响后续读取。
            - 单缓冲区时必须等待系统处理结束。注意当数据到达用户区之后，磁盘就可以继续向缓冲区中写入数据了。
            - 双缓冲区，在前一个缓冲区未处理结束下，可以读入数据到另一个缓冲区。但是如果另一个缓冲区也满了，则也需要等待。
            > 时间计算方法：构建流水线的时间 + 流水线时间 * 周期。可以画图帮助理解
    - 磁盘移臂调度算法：先来先服务（FCFS）、最短寻道优先（SSTF）、扫描算法（SCAN，也称电梯算法）、循环扫描（CSCAN，单向扫描，结束后立刻回到原点）
- 数据传输
    - 传输控制方式：
        - 程序控制（查询）方式：简单，硬件需求低，I/O能力不高，影响CPU利用率。
        - 程序中断方式：CPU无需等待，响应快速。发生中断时，为CPU断点信息保存现场（保存到栈空间），查询中断向量表，执行I/O中断服务程序。**鼠标键盘**。
        - DMA：直接内存存取，硬件实现主存与外设通信，无需CPU介入。DMAC向总线裁决逻辑提出总线请求，等CPU释放总线控制权后，DMA就可以开始工作。**硬盘**。
        - 通道方式、I/O处理机：硬件实现，效率更高。
    - 总线：一组能为多个部件**分时共享**的公共信息传送线路。同一时间只能有一个部件发送信息到总线，但允许多个部件同时接收。
        - 串行适合长距离、并行适合短距离
        - 数据总线DB、地址总线AB、控制总线CB
- CPU架构
    - CISC（复杂）：指令数量多，使用频率差别大，可变长格式，寻址方式多样，微码，研制周期长
    - RISC（精简）：指令数量少，使用频率接近，定长格式，大部分是单周期指令，寻址一般只提供Load/Store，增加了通用寄存器（降低访存次数），硬布线逻辑控制为主（为了尽量提高译码速度），适合流水线
    - 流水线：多条指令重叠操作的一种准并行技术。不同部件同时为多条指令的不同流程部分进行工作。
        - 流程：取指令、分析指令、执行指令
        - 流水线周期$t$是各部件执行时间最长的一段
        - 流水线计算公式：一条指令的执行时间 + 剩余指令 * 流水线周期。即理论$t_1+t_2+...+t_k+(n-1) \times t$、或者$k \times t + (n-1) \times t$
        - 流水线吞吐率（Though Put rate，TP）：单位时间内流水线完成的任务数量。$TP = \frac{指令条数}{流水线执行时间}$
        - 流水线最大吞吐率：$TP_{max} = \lim\limits_{n\to \infty} \frac{n}{(k + n-1)t } = \frac{1}{t}$
        - 流水线加速比：$S = \frac{不用流水线的执行时间}{使用流水线的执行时间}$
- 校验码
    - 奇偶校验码：若干位有效信息 + 一bit校验位，组成校验码。只能检错（仅错1位），不能纠错。
        - 奇校验：整个校验码（包括有效信息和校验位）中‘1’的个数为奇数。
        - 偶校验：整个校验码‘1’的个数为偶数
    - CRC校验：校验位的位数由生成多项式的最高次幂决定。可检错，不能纠错。
        - 模2除法：在除法过程中不计算借位和进位（相当于异或）
        - 生成多项式：用来表示二进制系数，如$G(x)=x^4+x+1$，则代表二进制系数$10011_2$，校验位为4位（因为最高幂$x^4$）
        - 编码：用原始报文左移校验位长度，再模2除生成多项式的二进制系数，并将计算的余数拼接到原始报文后。
        - 解码：用校验码模2除生成多项式的二进制系数，没有余数则没问题，否则有错误。
        > 信息码$111000110_2$，生成多项式$G(x)=x^5+x^3+x+1$，系数为$101011_2$。校验位数为5。则用$11100011000000_2 \div 101011_2$。余数为$11001_2$
    - 海明校验：校验位的位数满足$2^r\ge m + r +1$，其中$m$是信息位的位数，$r$是校验位的数量，校验码插入到信息位的各$2^k$位置。是分组奇偶校验，**能检错能纠错**。

## 操作系统